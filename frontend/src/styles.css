/* ===========================
   Tema escuro – Gestão Pessoal
   =========================== */

:root{
  --bg:#0b0e13;
  --bg-2:#0f1115;
  --card:#141821;
  --card-2:#101522;
  --border:#232838;
  --muted:#aab2c0;
  --text:#e5e7eb;
  --accent:#4ade80;
  --accent-ink:#04130a;
  --danger:#ef4444;
  --ink-danger:#1b0a0a;
  --link:#89b4ff;
  --grid:#1f2434;
  --layout-max-width:1240px;
}

/* Resetzinho básico */
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu;
  background:var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

body.login-page{
  overflow:auto;
}

a{ color:var(--link); text-decoration:none; }
a:hover{ text-decoration:underline; }

.app-shell{
  display:block;
  opacity:1;
  height:auto;
  overflow:visible;
}

.login-layout{
  min-height:100vh;
  display:flex;
  flex-direction:column;
}

/* Layout */
header{
  padding:16px 20px;
  background:var(--bg-2);
  border-bottom:1px solid var(--border);
  display:flex; align-items:center; justify-content:space-between;
  position:sticky; top:0; z-index:10;
}

.page-nav{
  max-width:1200px;
  margin:16px auto 0;
  padding:0 16px;
  display:flex;
  gap:8px;
}

.header-info{ display:flex; flex-direction:column; gap:6px; }

.user-session{ display:flex; align-items:center; gap:14px; }
.user-info{ display:flex; flex-direction:column; align-items:flex-end; }
.user-info strong{ font-size:14px; }
.badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  background:#1b2140;
  color:var(--muted);
  border-radius:999px;
  padding:4px 12px;
  font-size:11px;
  letter-spacing:.08em;
  text-transform:uppercase;
}

button.small{ padding:8px 12px; font-size:13px; }
button.full{ width:100%; }

h1{ margin:0; font-size:20px; }
h2.title, h3.title{ margin:0 0 10px; font-weight:600; }

.login-screen{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:32px 16px;
}

.login-card{
  width:100%;
  max-width:360px;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:18px;
  padding:28px;
  display:flex;
  flex-direction:column;
  gap:12px;
  box-shadow:0 0 0 1px rgba(0,0,0,.25), 0 24px 48px rgba(0,0,0,.35);
}

.login-brand{ display:flex; align-items:center; gap:12px; }
.login-brand h1{ font-size:24px; }
.logo-dot{
  width:14px;
  height:14px;
  border-radius:999px;
  background:var(--accent);
  box-shadow:0 0 12px rgba(74,222,128,.55);
}

.login-error{
  margin-top:4px;
  background:rgba(239,68,68,.12);
  border:1px solid rgba(239,68,68,.35);
  color:#ff9ea3;
  padding:10px 12px;
  border-radius:10px;
  font-size:13px;
}

.container{
  max-width:var(--layout-max-width);
  margin:20px auto;
  padding:0 16px;
  display:grid;
  grid-template-columns:1fr;
  grid-template-areas:
    "main"
    "sidebar"
    "admin";
  gap:16px;
}

/* mapeamento das áreas da grid */
.container > section{ grid-area:main; }
.container > .dashboard-card{ grid-area:main; }
.container > aside{ grid-area:sidebar; }
.container > .admin-card{ grid-area:admin; }

.container.single-card{
  width:100%;
  max-width:var(--layout-max-width);
  margin:0 auto;
  padding:0 16px;
  box-sizing:border-box;
  grid-template-columns:1fr;
  grid-template-areas:"main";
  justify-items:center;
}

.container.single-card > .admin-card{
  grid-area: main;
}

.container.single-card > *{
  width:100%;
}

.standard-layout{
  width:100%;
}

@media (min-width:1024px){
  .standard-layout{
    max-width:var(--layout-max-width);
    margin-left:auto;
    margin-right:auto;
  }
}

@media (min-width:1100px){
  .container{
    grid-template-columns:1.2fr .8fr;
    grid-template-areas:
      "main sidebar"
      "admin sidebar";
  }

  .container.standard-layout{
    grid-template-columns:1fr;
    grid-template-areas:"main";
  }
}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  padding:16px;
  box-shadow:0 0 0 1px rgba(0,0,0,.2), 0 12px 32px rgba(0,0,0,.25);
}

/* área de administração de usuários */
.admin-card .user-empty{ text-align:center; margin-top:12px; }
.admin-card table{ margin-top:4px; min-width:420px; }
.users-table-container {
  max-height: 220px;
  overflow-y: auto;
  padding-right: 4px;
}
.admin-user-form .admin-user-actions{
  display:flex;
  gap:8px;
  justify-content:flex-end;
  align-items:flex-end;
  grid-column:span 2;
  flex-wrap:wrap;
}
.admin-user-form .admin-user-actions button{
  flex:1 1 160px;
}
.admin-users-container{
  max-width:var(--layout-max-width);
  margin-left:auto;
  margin-right:auto;
}
.user-list-wrapper{ overflow:auto; }
.user-empty.hidden{ display:none; }

/* ===== Fix desktop: Cadastro de Usuários não estourar largura ===== */
.users-table-container{
  overflow-x: auto;              /* rolagem horizontal dentro do container */
  -webkit-overflow-scrolling: touch;
  max-width: 100%;
}

.usuarios-scroll{
  overflow-x: auto;              /* garante rolagem também no desktop */
  -webkit-overflow-scrolling: touch;
  max-width: 100%;
}

/* a tabela pode ser larga, mas deve rolar dentro do card */
.usuarios-scroll table,
.users-table{
  min-width: 950px;              /* parecido com padrão das outras tabelas */
  width: 100%;
}

/* impede “vazamento” de grid/flex por conteúdo grande */
.admin-card,
.user-list-wrapper,
.users-table-container,
.usuarios-scroll{
  min-width: 0;
}

.admin-card th.right,
.admin-card td.actions{
  text-align:right;
}

.admin-card tr.is-editing{
  background:rgba(137,180,255,.08);
}

.icon-button{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:36px;
  height:36px;
  padding:0;
  border-radius:10px;
  background:transparent;
  border:1px solid #38425b;
  color:var(--muted);
}

.icon-button:hover{
  color:var(--accent);
  border-color:var(--accent);
}

.icon-button svg{
  width:18px;
  height:18px;
  pointer-events:none;
}

.row{ display:flex; gap:10px; flex-wrap:wrap; }

.grid{ display:grid; gap:8px; }
.grid-2{ grid-template-columns:1fr 1fr; }

.sep{ height:1px; background:#222839; margin:10px 0; }

.muted{ color:var(--muted); font-size:12px; }

/* Inputs */
label{ display:block; font-size:12px; color:var(--muted); margin-bottom:6px; }
input, select, textarea{
  width:100%;
  background:#0f1320;
  color:var(--text);
  border:1px solid #2a3247;
  border-radius:10px;
  padding:10px 12px;
  outline:none;
  transition:border-color .15s ease, box-shadow .15s ease;
}
input:focus, select:focus, textarea:focus{
  border-color:#4e5c86;
  box-shadow:0 0 0 3px rgba(78,92,134,.25);
}
textarea{ min-height:80px; resize:vertical; }

/* Botões */
button{
  background:#2a3247; color:var(--text);
  border:1px solid #38425b;
  padding:10px 14px; border-radius:10px; cursor:pointer;
  transition:transform .06s ease, filter .15s ease, background .15s ease;
}
button:hover{ filter:brightness(1.05); }
button:active{ transform:translateY(1px); }

button.primary{ background:var(--accent); color:var(--accent-ink); border:none; }
button.danger{ background:var(--danger); color:#fff; border:none; }
button.ghost{ background:transparent; border:1px solid #38425b; }
button:disabled{
  cursor:not-allowed;
  filter:none;
  opacity:0.6;
  background:#1b2133;
  border-color:#2a3247;
  color:var(--muted);
  transform:none;
}
button.primary:disabled{
  background:#1b2133;
  color:var(--muted);
}

/* Tabs */
.tabs{ display:flex; gap:8px; }
.tab{
  padding:8px 12px; border-radius:10px;
  border:1px solid #38425b; cursor:pointer;
  background:#111627; color:var(--text);
}
.tab.active{ background:#1b2140; border-color:#4e5c86; }
.tab-emoji{
  display:inline-block;
  margin-right:6px;
  font-size:0.95em;
  line-height:1;
  vertical-align:middle;
}
.tab-label{ vertical-align:middle; }

/* Tabelas */
table{ width:100%; border-collapse:collapse; }
th, td{ text-align:left; padding:10px; border-bottom:1px solid #242b3d; }
th{ color:var(--muted); font-size:12px; font-weight:600; }
.right{ text-align:right; }
.actions{ display:flex; gap:8px; justify-content:flex-end; }

/* Listas mobile (cards) */
.mobile-card-list{
  display:none;
  flex-direction:column;
  gap:12px;
}
.mobile-card{
  background:var(--card-2);
  border:1px solid #20273b;
  border-radius:12px;
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.mobile-card-header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:10px;
}
.mobile-card-title{
  margin:0;
  font-size:15px;
  font-weight:600;
}
.mobile-card-meta{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(120px, 1fr));
  gap:10px;
}
.mobile-card-meta .label{
  display:block;
  font-size:11px;
  color:var(--muted);
  text-transform:uppercase;
  letter-spacing:.06em;
}
.mobile-card-actions{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  justify-content:flex-end;
}
.mobile-card-inline{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  align-items:center;
}

/* FAB (mobile) */
.fab-stack{ display:none; }

/* Chips */
.pill{ font-size:12px; padding:4px 8px; border-radius:999px; }
.income{ background:rgba(74,222,128,.15); color:#7bf2a4; }
.expense{ background:rgba(239,68,68,.15); color:#ff9ea3; }

/* KPIs */
.summary{ display:flex; gap:12px; flex-wrap:wrap; }
.kpi{
  flex:1 1 180px;
  background:var(--card-2);
  border:1px solid #20273b;
  padding:12px; border-radius:12px;
}
.kpi small{ color:var(--muted); display:block; }
.kpi strong{ font-size:22px; display:block; margin-top:4px; }

/* Relatórios - Transações */
.reports-header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:16px;
  margin-bottom:16px;
}
.reports-filters{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(180px, 1fr));
  gap:12px;
  align-items:end;
  background:var(--card-2);
  border:1px solid #20273b;
  padding:12px;
  border-radius:12px;
  margin-bottom:16px;
}
.reports-filters-meta{
  font-size:13px;
}
.kpi-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(210px, 1fr));
  gap:12px;
  margin-bottom:16px;
}
.kpi-card{
  background:linear-gradient(135deg, rgba(96,165,250,0.12), rgba(15,23,42,0.65));
  border:1px solid rgba(148,163,184,0.2);
  padding:14px;
  border-radius:14px;
  min-height:110px;
  display:flex;
  flex-direction:column;
  gap:6px;
}
.kpi-card small{ color:var(--muted); }
.kpi-card strong{ font-size:22px; }
.kpi-card span{ font-size:12px; }
.trend-up{ color:#f97316; }
.trend-down{ color:#4ade80; }

.report-chart-card{ margin-bottom:18px; }
.report-chart-header{
  display:flex;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
  margin-bottom:8px;
}
.report-chart-legend{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  align-items:center;
}
.legend-item{ font-size:12px; color:var(--muted); display:flex; align-items:center; gap:6px; }
.legend-dot{
  width:10px;
  height:10px;
  border-radius:50%;
  display:inline-block;
}
.legend-dot.balance{ background:#60a5fa; }
.legend-dot.income{ background:#4ade80; }
.legend-dot.expense{ background:#f87171; }
.report-chart svg{ width:100%; height:auto; display:block; }
.report-chart-axis{
  margin-top:8px;
  display:flex;
  justify-content:space-between;
  font-size:12px;
  color:var(--muted);
}

.category-bars{
  display:flex;
  flex-direction:column;
  gap:12px;
}
.category-bar-header{
  display:flex;
  justify-content:space-between;
  gap:12px;
  margin-bottom:6px;
  font-size:13px;
}
.category-bar-track{
  height:8px;
  background:rgba(148,163,184,0.2);
  border-radius:999px;
  overflow:hidden;
}
.category-bar-fill{
  height:100%;
  background:linear-gradient(90deg, #f97316, #f87171);
  border-radius:999px;
}

.report-modal-overlay{
  position:fixed;
  inset:0;
  background:rgba(8,12,24,0.75);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
  z-index:60;
}
.report-modal{
  width:min(720px, 100%);
  max-height:80vh;
  overflow:auto;
  background:var(--card);
  border:1px solid #20273b;
  border-radius:16px;
  padding:16px;
  box-shadow:0 20px 40px rgba(0,0,0,0.45);
}
.report-modal-header{
  display:flex;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
  margin-bottom:12px;
}
.report-modal-list{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.report-modal-item{
  display:flex;
  justify-content:space-between;
  gap:12px;
  align-items:center;
  padding:10px 12px;
  background:var(--card-2);
  border:1px solid #20273b;
  border-radius:12px;
}
.report-modal-item span{ display:block; font-size:12px; }

.transaction-wizard-overlay{
  position:fixed;
  inset:0;
  background:rgba(8,12,24,0.75);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
  z-index:70;
}
.transaction-wizard{
  width:min(720px, 100%);
  max-height:90vh;
  overflow:auto;
  background:var(--card);
  border:1px solid #20273b;
  border-radius:18px;
  padding:20px;
  display:flex;
  flex-direction:column;
  gap:16px;
  box-shadow:0 24px 48px rgba(0,0,0,0.45);
}
.transaction-wizard-header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
  flex-wrap:wrap;
}
.transaction-wizard-steps{
  display:grid;
  grid-template-columns:repeat(3, minmax(0, 1fr));
  gap:10px;
}
.transaction-wizard-step{
  display:flex;
  align-items:center;
  gap:8px;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid #20273b;
  background:var(--card-2);
  font-size:13px;
  color:var(--muted);
}
.transaction-wizard-step span{
  width:26px;
  height:26px;
  border-radius:999px;
  display:grid;
  place-items:center;
  background:rgba(148,163,184,0.15);
  font-weight:600;
  color:var(--text);
}
.transaction-wizard-step.active{
  border-color:var(--accent);
  color:var(--text);
  box-shadow:0 0 0 1px rgba(100,116,139,0.2);
}
.transaction-wizard-step.active span{
  background:var(--accent);
  color:var(--accent-ink);
}
.transaction-wizard-body{
  display:flex;
  flex-direction:column;
  gap:14px;
}
.transaction-wizard-panel{
  display:flex;
  flex-direction:column;
  gap:12px;
}
.transaction-wizard-options{
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 1fr));
  gap:12px;
}
.wizard-option{
  border:1px solid #20273b;
  background:var(--card-2);
  border-radius:14px;
  padding:16px;
  font-weight:600;
  cursor:pointer;
}
.wizard-option.active{
  background:var(--accent);
  color:var(--accent-ink);
  border-color:transparent;
}
.transaction-wizard-grid{
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 1fr));
  gap:12px;
}
.transaction-wizard-actions{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
}
.transaction-wizard-actions-error{
  flex:1;
  text-align:center;
}
.wizard-error{
  color:#fca5a5;
  font-size:12px;
}
.transaction-wizard-actions-right{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.transaction-wizard-trigger{
  align-items:center;
  justify-content:space-between;
}

/* Gráficos */
canvas{ background:transparent; }

/* Utilitários */
.hidden{ display:none!important; }

/* ===========================
   Responsividade
   =========================== */
@media (max-width:768px){
  header{
    flex-wrap:wrap;
    gap:12px;
    align-items:flex-start;
  }

  .app-shell{
    padding-bottom: calc(120px + env(safe-area-inset-bottom, 0px));
  }

  /* no mobile o nome/descrição do usuário alinham à esquerda */
  .user-info{ align-items:flex-start; }

  .tabs{
    flex-wrap:wrap;
  }
  .page-nav.tabs{
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(160px, 1fr));
    gap:12px;
  }
  .page-nav .tab{
    padding:16px;
    border-radius:14px;
    background:var(--card);
    border:1px solid var(--border);
    text-align:left;
    font-weight:600;
  }
  .card{
    padding:14px;
  }

  /* Aplica a todos os filhos da row e força 100% no mobile */
  .row > *{
    flex:1 1 100% !important;
  }
  .row{
    gap:12px;
  }

  .grid-2{
    grid-template-columns:1fr;
  }
  .kpi-grid,
  .reports-filters{
    grid-template-columns:1fr;
  }

  .container.single-card{
    padding:0 12px;
  }

  input, select, textarea, button{
    font-size:15px;
  }

  /* Ajuste específico dos relatórios no mobile */
  #tab-reports .row{
    flex-direction:column;
  }
  #tab-reports .row > .card{
    width:100%;
  }
  .reports-header{
    flex-direction:column;
    align-items:flex-start;
  }
  .report-modal-item{
    align-items:flex-start;
    flex-direction:column;
  }

  .transaction-wizard-overlay{
    padding:0;
  }
  .transaction-wizard{
    width:100%;
    height:100%;
    max-height:none;
    border-radius:0;
    padding:18px;
  }
  .transaction-wizard-steps{
    grid-template-columns:1fr;
  }
  .transaction-wizard-options{
    grid-template-columns:1fr;
  }
  .transaction-wizard-grid{
    grid-template-columns:1fr;
  }
  .transaction-wizard-actions{
    flex-direction:column-reverse;
    align-items:stretch;
  }
  .transaction-wizard-actions-right{
    flex-direction:column;
  }
  .transaction-wizard-actions button,
  .transaction-wizard-header button{
    width:100%;
    padding:14px 16px;
  }

  /* Ajuste da área de ações do admin no mobile */
  .admin-user-form .admin-user-actions{
    grid-column:span 1;
    flex-direction:column;
  }
  .admin-user-form .admin-user-actions button{
    width:100%;
  }

  /* impede grid/flex de estourar largura por causa de conteúdo grande */
  .container > section,
  .container > .dashboard-card,
  .container > aside,
  .container > .admin-card,
  .card{
    min-width: 0;
  }

  /* rolagem horizontal só na área da tabela (não na página toda) */
  .transactions-scroll,
  .agenda-scroll,
  .events-table-container,
  .users-table-container,
  .usuarios-scroll{
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* mantém a tabela “legível” mas sem estourar a tela */
  .transactions-scroll table,
  .agenda-scroll table,
  .events-table-container table,
  .users-table-container table,
  .usuarios-scroll table,
  .affiliate-users-list table,
  .affiliate-modal table{
    min-width: 650px;
  }

  /* Cards mobile substituem tabelas */
  .mobile-card-list{
    display:flex;
  }
  .transactions-scroll table,
  .events-table-container table,
  .users-table-container table,
  .usuarios-scroll table,
  .affiliate-users-list table,
  .affiliate-modal table,
  .events-table{
    display:none;
  }

  /* FAB */
  .fab-stack{
    position:fixed;
    right:16px;
    bottom: calc(16px + env(safe-area-inset-bottom, 0px));
    display:flex;
    flex-direction:column;
    gap:12px;
    z-index:80;
  }
  .fab-button{
    background:var(--accent);
    color:var(--accent-ink);
    border:none;
    border-radius:999px;
    padding:14px 18px;
    font-weight:600;
    box-shadow:0 12px 24px rgba(0,0,0,.35);
  }
  .fab-button:active{ transform:translateY(1px); }
}


@media (max-width:520px){
  body{
    font-size:15px;
  }
  header{
    padding:14px 16px;
  }
  .container{
    padding:0 12px;
  }
  .tabs{
    gap:6px;
  }
  .tab{
    padding:6px 10px;
    font-size:13px;
  }
  .summary{
    gap:10px;
  }
  .kpi{
    flex:1 1 100%;
  }
  .kpi strong{
    font-size:20px;
  }
  th, td{
    padding:8px;
    font-size:13px;
  }
}

/* ===== Responsivo: Cadastro de Usuários (mobile) ===== */

/* Ajustes gerais mobile */
@media (max-width: 768px){
  /* A tabela precisa rolar DENTRO do container no mobile */
  .users-table-container{
    overflow-x: auto;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Garante que o card single não fique “apertado” ou empurrado */
  .container.single-card{
    width: 100%;
    margin-left: auto;
    margin-right: auto;
  }

  .container.single-card{
    padding: 0 12px;
  }

  .admin-card{
    width: 100%;
  }
}

/* Mobile menor ainda (celular pequeno) */
@media (max-width: 520px){
  /* mantém tabela rolável sem quebrar o layout */
  .admin-card table{
    min-width: 520px; /* antes estava grande demais em alguns lugares */
  }

  /* evita qualquer “vazamento” horizontal do card */
  .admin-card{
    overflow: hidden;
  }
}

/* Componentes React adicionais */
.badge-income{ background:rgba(74,222,128,.15); color:#7bf2a4; }
.badge-expense{ background:rgba(239,68,68,.15); color:#ff9ea3; }
.badge-active{ background:rgba(74,222,128,.15); color:#7bf2a4; }
.badge-pending{ background:rgba(251,191,36,.2); color:#facc15; }
.badge-inactive{ background:rgba(148,163,184,.2); color:#cbd5e1; }
.badge-paid{ background:rgba(74,222,128,.16); color:#b5f8c7; }
.badge-payment-pending{ background:rgba(251,191,36,.15); color:#facc15; }
.table-actions{ display:inline-flex; gap:6px; justify-content:flex-end; }

.events-table .badge.pending,
.mobile-card .badge.pending {
  background: #facc15;
  color: #000;
}

.events-table .badge.sent,
.mobile-card .badge.sent {
  background: #3b82f6;
  color: #fff;
}

.events-table .badge.completed,
.mobile-card .badge.completed {
  background: #22c55e;
  color: #fff;
}

.events-table .badge.pending,
.events-table .badge.sent,
.events-table .badge.completed,
.mobile-card .badge.pending,
.mobile-card .badge.sent,
.mobile-card .badge.completed {
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
  text-transform: none;
  letter-spacing: normal;
}
.toast{
  position:fixed;
  top:16px;
  right:16px;
  background:var(--card-2);
  border:1px solid var(--border);
  border-left:4px solid var(--accent);
  padding:12px 16px;
  border-radius:14px;
  box-shadow:0 16px 32px rgba(0,0,0,.35);
  display:flex;
  gap:12px;
  align-items:center;
  z-index:50;
}
.toast-warning{ border-left-color:#fbbf24; }
.toast-danger{ border-left-color:var(--danger); }
.toast-success{ border-left-color:var(--accent); }
.toast button{ margin-left:auto; }

.muscle-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 16px;
  margin-top: 12px;
}

.muscle-card {
  background: var(--card-2, #101522);
  border: 1px solid var(--border, #232838);
  border-radius: 999px;
  padding: 14px 10px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
}

.muscle-image-wrapper {
  width: 88px;
  height: 88px;
  border-radius: 999px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

.muscle-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.muscle-label {
  font-size: 13px;
  color: var(--muted, #aab2c0);
}

.muscle-card.active {
  border-color: var(--accent, #4ade80);
  box-shadow: 0 0 0 1px rgba(74, 222, 128, 0.35);
}

.muscle-card.active .muscle-label {
  color: var(--text, #e5e7eb);
}

.muscle-card:hover {
  transform: translateY(-1px);
}

.workout-card {
  margin-top: 16px;
  max-width: var(--layout-max-width);
  width: 100%;
  margin-left: auto;
  margin-right: auto;

  /* novo: layout em grid */
  display: grid;
  grid-template-columns: 1fr; /* padrão: uma coluna (mobile / telas menores) */
  gap: 16px;
}

/* em telas grandes: Rotina de Treino + Semana de Treino lado a lado */
@media (min-width: 1100px) {
  .workout-card {
    grid-template-columns: 1.2fr 0.8fr; /* parecido com Transações x Agenda */
    align-items: flex-start;
  }
}

/* já existia – continua igual, só fica depois */
@media (max-width: 768px) {
  .workout-card .row {
    flex-wrap: wrap;
  }
}


/* esconde a agenda dentro da rotina de treino */
.workout-schedule {
  display: none;
}

/* Modal de visualização de treino */
.workout-view-modal .modal-body {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.workout-details-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 16px;
  padding: 16px 0 24px;
}

.workout-details-content .field {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 8px;
}

.workout-view-modal .field label {
  font-size: 0.85rem;
  font-weight: 500;
  color: var(--muted);
  text-align: center;
  width: 100%;
}

.chips-with-image {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
}

.chip-with-image {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 8px 14px;
  border-radius: 999px;
  background: #111827;
  border: 1px solid #1f2937;
}

.chip-with-image .chip-icon {
  width: 36px;
  height: 36px;
  border-radius: 999px;
  object-fit: cover;
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.workout-timer-section {
  margin-top: 8px;
}

/* ===========================
   Diário alimentar – Rotina de Treino
   =========================== */

.food-diary {
  margin-top: 4px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.food-diary-grid {
  display: grid;
  grid-template-columns: minmax(0, 1.5fr) minmax(0, 1.1fr);
  gap: 16px;
}

.food-diary-left {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.food-diary-right {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.food-diary-form .field textarea {
  resize: vertical;
}

.food-diary-summary-card {
  padding: 12px;
  border-radius: 12px;
  background: var(--card-2);
  border: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.hydration-card {
  gap: 10px;
}

.hydration-progress {
  width: 100%;
  height: 8px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.08);
  overflow: hidden;
}

.hydration-progress-bar {
  height: 100%;
  border-radius: 999px;
  background: linear-gradient(90deg, #38bdf8, #0ea5e9);
  transition: width 0.2s ease;
}

.hydration-actions {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.food-diary-meta-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.food-diary-meta-row {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 13px;
}

.food-diary-bar {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    'Liberation Mono', 'Courier New', monospace;
  letter-spacing: 1px;
}

.general-report {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.general-report-hero {
  padding: 18px;
  border-radius: 18px;
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 0.7));
  border: 1px solid rgba(148, 163, 184, 0.2);
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.general-report-hero-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
}

.general-report-update {
  font-size: 12px;
  color: var(--muted);
}

.general-report-hero-content {
  display: grid;
  grid-template-columns: minmax(160px, 220px) minmax(0, 1fr);
  gap: 18px;
  align-items: center;
}

.general-report-avatar {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.general-report-avatar-label {
  font-size: 12px;
  color: var(--muted);
}

.general-report-avatar-svg {
  max-width: 140px;
}

.general-report-hero-info {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.general-report-hero-text {
  margin: 0;
  font-size: 13px;
  color: var(--muted);
}

.general-report-score {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  border-radius: 12px;
  background: rgba(15, 23, 42, 0.65);
  border: 1px solid rgba(148, 163, 184, 0.2);
}

.general-report-score-header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  font-size: 13px;
  color: var(--muted);
}

.general-report-score-header strong {
  font-size: 24px;
  color: #fff;
}

.general-report-score-bar {
  height: 10px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.2);
  overflow: hidden;
}

.general-report-score-progress {
  height: 100%;
  border-radius: 999px;
  background: linear-gradient(90deg, #38bdf8, #22c55e);
  transition: width 0.3s ease;
}

.general-report-score-caption {
  font-size: 12px;
  color: var(--muted);
}

.general-report-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.general-report-chip {
  font-size: 11px;
  padding: 4px 10px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.16);
  color: #e2e8f0;
}

.general-report-alert {
  padding: 10px 12px;
  border-radius: 10px;
  background: rgba(251, 191, 36, 0.1);
  border: 1px solid rgba(251, 191, 36, 0.25);
  color: #facc15;
  font-size: 13px;
}

.gp-avatar-section {
  padding: 16px;
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.2);
  background: rgba(15, 23, 42, 0.6);
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.gp-avatar-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
}

.gp-avatar-score {
  font-size: 12px;
  color: var(--muted);
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.16);
  display: flex;
  align-items: center;
  gap: 6px;
}

.gp-avatar-score strong {
  color: #fff;
  font-size: 14px;
}

.gp-avatar-content {
  display: grid;
  grid-template-columns: minmax(200px, 260px) minmax(0, 1fr);
  gap: 16px;
  align-items: stretch;
}

.gp-avatar-current {
  padding: 14px;
  border-radius: 14px;
  background: rgba(15, 23, 42, 0.65);
  border: 1px solid rgba(148, 163, 184, 0.15);
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 8px;
}

.gp-avatar-current-label {
  font-size: 14px;
  font-weight: 600;
  color: #fff;
}

.gp-avatar-current-text {
  margin: 0;
  font-size: 12px;
  color: var(--muted);
}

.gp-avatar-cards {
  display: grid;
  grid-template-columns: repeat(3, minmax(160px, 1fr));
  gap: 12px;
}

.gp-avatar-card {
  padding: 12px;
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.16);
  background: rgba(15, 23, 42, 0.65);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  text-align: center;
}

.gp-avatar-card-title {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--muted);
}

.gp-avatar-card-state {
  font-size: 13px;
  font-weight: 600;
  color: #fff;
}

.gp-avatar-card-text {
  margin: 0;
  font-size: 11px;
  color: var(--muted);
}

.gp-avatar-svg {
  max-width: 100%;
}

.gp-avatar-mini {
  max-width: 90px;
}

.general-report-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 12px;
}

.general-report-card {
  padding: 14px;
  border-radius: 14px;
  background: var(--card-2);
  border: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.general-report-badge {
  font-size: 11px;
  color: var(--muted);
  padding: 2px 8px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.16);
}

.general-report-metric {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 13px;
  color: var(--muted);
}

.general-report-metric strong {
  color: #fff;
  font-size: 15px;
}

.general-report-pill {
  margin-top: auto;
  padding: 6px 10px;
  border-radius: 10px;
  font-size: 12px;
  color: #e2e8f0;
  background: rgba(30, 41, 59, 0.75);
}

.general-report-timeline {
  padding: 14px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: rgba(15, 23, 42, 0.7);
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.general-report-timeline-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.general-report-timeline-track {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(96px, 1fr));
  gap: 10px;
}

.general-report-timeline-day {
  padding: 10px;
  border-radius: 12px;
  background: rgba(15, 23, 42, 0.6);
  border: 1px solid rgba(148, 163, 184, 0.12);
  display: flex;
  flex-direction: column;
  gap: 6px;
  align-items: center;
  text-align: center;
}

.general-report-timeline-label {
  font-size: 11px;
  color: var(--muted);
}

.general-report-timeline-dots {
  display: flex;
  gap: 6px;
}

.general-report-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: rgba(148, 163, 184, 0.4);
}

.general-report-dot.ok {
  background: #22c55e;
  box-shadow: 0 0 8px rgba(34, 197, 94, 0.4);
}

.general-report-dot.warn {
  background: #f59e0b;
  box-shadow: 0 0 8px rgba(245, 158, 11, 0.4);
}

.general-report-dot.danger {
  background: #f87171;
  box-shadow: 0 0 8px rgba(248, 113, 113, 0.4);
}

.general-report-dot.muted {
  background: rgba(148, 163, 184, 0.3);
}

.general-report-card-header {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 8px;
}

.metric-toggle {
  background: transparent;
  border: none;
  color: var(--muted);
  font-size: 14px;
  cursor: pointer;
  padding: 2px 4px;
}

.metric-toggle-icon {
  display: inline-block;
  transition: transform 0.2s ease;
}

.metric-toggle-icon.open {
  transform: rotate(180deg);
}

.general-report-value {
  font-size: 24px;
  font-weight: 600;
  color: #fff;
}

.general-report-unit {
  margin-left: 6px;
  font-size: 13px;
  color: var(--muted);
}

.general-report-status {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: #94a3b8;
}

.general-report-status.success {
  color: #22c55e;
}

.general-report-status.danger {
  color: #f87171;
}

.general-report-status.reference {
  color: #60a5fa;
}

.general-report-bar {
  position: relative;
  height: 8px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.08);
}

.general-report-bar-track {
  position: absolute;
  inset: 0;
  border-radius: 999px;
  background: linear-gradient(90deg, #1d4ed8, #22c55e, #f97316);
  opacity: 0.35;
}

.general-report-marker {
  position: absolute;
  top: 50%;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #f8fafc;
  border: 2px solid #0f172a;
  transform: translate(-50%, -50%);
}

.general-report-range {
  display: flex;
  justify-content: space-between;
  font-size: 11px;
  color: var(--muted);
}

.metric-gauge {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.metric-status {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: #94a3b8;
}

@media (max-width: 720px) {
  .general-report-hero-content {
    grid-template-columns: 1fr;
  }

  .general-report-hero-header {
    flex-direction: column;
    align-items: flex-start;
  }

  .gp-avatar-header {
    flex-direction: column;
    align-items: flex-start;
  }

  .gp-avatar-content {
    grid-template-columns: 1fr;
  }

  .gp-avatar-cards {
    display: flex;
    overflow-x: auto;
    padding-bottom: 4px;
    gap: 12px;
    scroll-snap-type: x mandatory;
  }

  .gp-avatar-card {
    min-width: 180px;
    scroll-snap-align: start;
  }

  .general-report-timeline-track {
    grid-template-columns: repeat(auto-fit, minmax(84px, 1fr));
  }
}

.gaugeBar {
  position: relative;
  display: flex;
  height: 10px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.06);
  overflow: hidden;
}

.gaugeSeg {
  height: 100%;
}

.tone-bad {
  color: #f87171;
  background: rgba(248, 113, 113, 0.65);
}

.tone-ok {
  color: #38bdf8;
  background: rgba(56, 189, 248, 0.65);
}

.tone-great {
  color: #22c55e;
  background: rgba(34, 197, 94, 0.65);
}

.gaugeMarker {
  position: absolute;
  top: 50%;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #f8fafc;
  border: 2px solid #0f172a;
  transform: translate(-50%, -50%);
  z-index: 1;
}

.gaugeLegend {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  font-size: 12px;
  color: var(--muted);
}

.legendItem {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.legendDot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
}

.gaugeDescription {
  font-size: 12px;
  color: var(--muted);
}

.gaugeTicks {
  position: relative;
  height: 14px;
  font-size: 11px;
  color: var(--muted);
}

.gaugeTick {
  position: absolute;
  transform: translateX(-50%);
}

.food-diary-entries {
  margin-top: 8px;
  max-height: 230px;
  overflow-y: auto;
  padding-right: 4px;
}

.food-diary-entry {
  padding: 6px 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  font-size: 13px;
}

.food-diary-entry:last-child {
  border-bottom: none;
}

.food-diary-entry-header {
  display: flex;
  justify-content: space-between;
  gap: 8px;
}

.food-diary-entry-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  color: var(--muted);
  font-size: 12px;
}

@media (max-width: 900px) {
  .food-diary-grid {
    grid-template-columns: 1fr;
  }
}

/* ===========================
   Food Picker – Diário alimentar
   =========================== */

.food-picker-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000; /* acima dos modais do sistema */
  padding: 16px;
}

.food-picker-card {
  position: relative;
  z-index: 2001; /* garante que o card fica acima do overlay */
  width: min(960px, 100%);
  max-height: 80vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.food-picker-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.food-picker-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 10px;
  overflow-y: auto;
  padding-right: 4px;
}

.food-picker-step {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.food-picker-actions {
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  flex-wrap: wrap;
}

.food-picker-macros {
  display: grid;
  grid-template-columns: repeat(2, minmax(140px, 1fr));
  gap: 10px;
}

.food-picker-macro-card {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 12px;
}

.food-picker-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--border);
  border-radius: 12px;
  text-align: left;
  color: inherit;
  cursor: pointer;
  transition: all 0.15s ease;
}

.food-picker-item:hover {
  border-color: rgba(255, 255, 255, 0.2);
  background: rgba(255, 255, 255, 0.05);
}

.food-picker-icon {
  width: 42px;
  height: 42px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.08);
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.food-picker-info {
  display: flex;
  flex-direction: column;
  gap: 4px;
  flex: 1;
}

.food-picker-name {
  font-weight: 600;
}

.food-picker-meta {
  font-size: 12px;
  color: var(--muted);
}

.transactions-scroll {
  max-height: 350px;
  overflow-y: auto;
  padding-right: 8px;
}

.transactions-scroll::-webkit-scrollbar {
  width: 8px;
}

.transactions-scroll::-webkit-scrollbar-thumb {
  background-color: #555;
  border-radius: 10px;
}

.transactions-scroll::-webkit-scrollbar-track {
  background: #2a2a2a;
}

.events-table-container {
  max-height: 260px; /* ou o valor que já usamos em Transações */
  overflow-y: auto;
  padding-right: 4px; /* espaço pra barra não colar nos botões */
}

.agenda-scroll {
  max-height: 350px;
  overflow-y: auto;
  padding-right: 8px;
}

.agenda-scroll::-webkit-scrollbar {
  width: 8px;
}

.agenda-scroll::-webkit-scrollbar-thumb {
  background-color: #555;
  border-radius: 10px;
}

.agenda-scroll::-webkit-scrollbar-track {
  background: #2a2a2a;
}

/* Scroll para a área de histórico de peso no Diário Alimentar */
.weight-history-scroll {
  max-height: 180px; /* ajuste se quiser mais ou menos */
  overflow-y: auto;
  padding-right: 8px;
}

.weight-history-scroll::-webkit-scrollbar {
  width: 8px;
}

.weight-history-scroll::-webkit-scrollbar-thumb {
  background-color: #555;
  border-radius: 10px;
}

.weight-history-scroll::-webkit-scrollbar-track {
  background: #2a2a2a;
}

.usuarios-scroll {
  max-height: 250px;   /* altura da área visível */
  overflow-y: auto;    /* ativa a barra de rolagem */
}

/* Estiliza a barra de rolagem para combinar com o design */
.usuarios-scroll::-webkit-scrollbar {
  width: 6px;
}

.usuarios-scroll::-webkit-scrollbar-thumb {
  background: #ffffff33;
  border-radius: 10px;
}

.usuarios-scroll::-webkit-scrollbar-track {
  background: transparent;
}

/* Gráficos e analytics */
.chart-card{
  background:var(--card-2);
  border:1px solid var(--border);
  border-radius:14px;
  padding:12px 14px;
  box-shadow:0 10px 30px rgba(0,0,0,.28);
}
.chart-title{
  font-weight:600;
  font-size:14px;
  margin-bottom:10px;
}

.progress-ring{ display:flex; justify-content:center; }
.progress-ring-chart{ position:relative; width:180px; height:180px; }
.progress-ring-center{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  pointer-events:none;
}
.progress-ring-value{ font-size:28px; font-weight:700; }
.progress-ring-helper{ font-size:12px; color:var(--muted); }

.goal-bar{ display:flex; flex-direction:column; gap:10px; }
.goal-bar-track{
  width:100%;
  height:14px;
  border-radius:999px;
  background:rgba(255,255,255,0.08);
  overflow:hidden;
  border:1px solid rgba(255,255,255,0.08);
}
.goal-bar-fill{
  height:100%;
  background:linear-gradient(90deg, #50be78, #facc15);
  box-shadow:0 6px 18px rgba(80, 190, 120, 0.35);
}
.goal-bar-footer{ display:flex; justify-content:space-between; align-items:center; font-size:13px; }
.goal-bar-highlight{ font-weight:700; color:#7df59c; }

.chart-with-legend{ display:grid; grid-template-columns:1.2fr .8fr; gap:12px; align-items:center; }
.chart-legend{ display:flex; flex-direction:column; gap:8px; }
.chart-legend-item{ display:flex; align-items:center; gap:10px; padding:8px 10px; background:rgba(255,255,255,0.04); border:1px solid rgba(255,255,255,0.06); border-radius:12px; }
.chart-legend-dot{ width:12px; height:12px; border-radius:50%; display:inline-block; box-shadow:0 0 0 1px rgba(0,0,0,0.25); }
.chart-legend-label{ font-weight:600; font-size:13px; }

.heatmap-wrapper{ width:100%; overflow-x:auto; }
.heatmap-grid{ display:grid; grid-template-columns:80px repeat(7, 1fr); gap:8px; align-items:center; }
.heatmap-header{ text-align:center; font-size:12px; color:var(--muted); }
.heatmap-row-label{ font-size:12px; color:var(--muted); text-align:right; padding-right:6px; }
.heatmap-cell{ width:100%; padding-top:100%; border-radius:6px; background:rgba(255,255,255,0.05); box-shadow:inset 0 0 0 1px rgba(0,0,0,0.2); }

.mini-stats-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(180px, 1fr)); gap:10px; }
.mini-stat-card{ background:rgba(255,255,255,0.04); border:1px solid rgba(255,255,255,0.06); border-radius:12px; padding:10px 12px; display:flex; flex-direction:column; gap:4px; }
.mini-stat-label{ font-size:12px; color:var(--muted); }
.mini-stat-value{ font-weight:700; font-size:16px; }
.mini-stat-helper{ font-size:12px; color:var(--muted); }

.scan-modal-backdrop{
  position:fixed;
  inset:0;
  background:rgba(3,6,12,0.65);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:1000;
  backdrop-filter:blur(2px);
}

.scan-modal{
  width:90%;
  max-width:460px;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  box-shadow:0 18px 40px rgba(0,0,0,.35);
  padding:18px;
  color:var(--text);
}

.scan-modal-title{
  font-weight:650;
  font-size:16px;
  margin-bottom:10px;
}

.scan-modal-body{
  display:flex;
  flex-direction:column;
  gap:12px;
}

.scan-file-row{
  display:flex;
  flex-direction:column;
  gap:10px;
}

.scan-file-input{
  width:100%;
  background:var(--bg-2);
  color:var(--muted);
  border:1px dashed var(--border);
  border-radius:12px;
  padding:12px;
  cursor:pointer;
  transition:border-color .15s ease, color .15s ease, box-shadow .15s ease;
}

.scan-file-input:hover{
  border-color:var(--accent);
  color:var(--text);
  box-shadow:0 0 0 3px rgba(74,222,128,.18);
}

.scan-modal-actions{
  justify-content:flex-end;
  margin-top:6px;
}

.affiliate-modal-backdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.45);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:12px;
  z-index:900;
}

.affiliate-modal{
  width:95%;
  max-width:760px;
  max-height:70vh;
  background:var(--card);
  color:var(--text);
  border:1px solid var(--border);
  border-radius:14px;
  box-shadow:0 18px 40px rgba(0,0,0,.35);
  padding:16px;
  display:flex;
  flex-direction:column;
}

.affiliate-users-list{
  margin-top:10px;
  flex:1;
  min-height:0;
  max-height:55vh;
  overflow-y:auto;
  overflow-x:hidden;
}

.affiliate-modal-total{
  margin-top:12px;
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap:8px;
  font-size:15px;
}
.affiliate-modal-total strong{ font-size:16px; }

@media (max-width: 900px){
  .chart-with-legend{ grid-template-columns:1fr; }
}

.workout-routines-scroll {
  max-height: 230px;
  overflow-y: auto;
  padding-right: 4px;
}

.workout-history-scroll {
  max-height: 260px;
  overflow-y: auto;
  padding-right: 4px;
}

.agenda-container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
}

.agenda-grid {
  display: grid;
  grid-template-columns: 420px 1fr;
  gap: 24px;
  align-items: start;
}

.calendar-wrapper {
  display: flex;
  justify-content: center;
}

.calendar-root {
  width: 100%;
  background: #0f1722;
  border: 1px solid #1f2d3a;
  border-radius: 12px;
  padding: 10px;
}

.agenda-calendar {
  width: 100%;
  border: none;
  background: transparent;
  color: #d6e2f0;
}

.agenda-calendar .react-calendar__navigation button {
  color: #d6e2f0;
  font-weight: 600;
}

.agenda-calendar .react-calendar__navigation button:hover,
.agenda-calendar .react-calendar__navigation button:focus {
  background: #1b2a3a;
}

.agenda-calendar .react-calendar__month-view__weekdays__weekday {
  color: #9fb3c8;
  font-weight: 600;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

.agenda-calendar .react-calendar__month-view__weekdays__weekday abbr {
  text-decoration: none;
}

.agenda-calendar .react-calendar__tile {
  color: #d6e2f0;
  font-weight: 600;
  border-radius: 8px;
}

.agenda-calendar .react-calendar__tile.calendar-day {
  position: relative;
  transition: all 0.2s ease;
}

.agenda-calendar .react-calendar__tile:hover,
.agenda-calendar .react-calendar__tile:focus {
  background: #1b2a3a;
  cursor: pointer;
}

.agenda-calendar .react-calendar__tile.calendar-day.selected {
  background: #2563eb;
  color: #fff;
  box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.35);
}

.agenda-calendar .react-calendar__tile.calendar-day.has-pending {
  border: 2px solid #facc15;
  border-radius: 8px;
}

.agenda-calendar .react-calendar__tile.calendar-day.has-history {
  border: 2px solid #3b82f6;
  border-radius: 8px;
}

.agenda-calendar .react-calendar__tile .calendar-indicator {
  position: absolute;
  bottom: 4px;
  right: 6px;
  font-size: 11px;
  font-weight: 700;
  color: #22c55e;
}

@keyframes pulseBorder {
  0% {
    box-shadow: 0 0 0 0 rgba(250, 204, 21, 0.4);
  }
  70% {
    box-shadow: 0 0 0 6px rgba(250, 204, 21, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(250, 204, 21, 0);
  }
}

.agenda-calendar .react-calendar__tile.calendar-day.has-pending {
  animation: pulseBorder 2.5s infinite;
}


.mobile-drawer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 70%;
  background: #0f172a;
  border-top-left-radius: 16px;
  border-top-right-radius: 16px;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.4);
  padding: 20px;
  z-index: 999;
  animation: slideUp 0.3s ease;
  overflow-y: auto;
}

.drawer-header {
  display: flex;
  justify-content: flex-end;
  margin-bottom: 12px;
}

.drawer-content {
  height: calc(100% - 40px);
}

@keyframes slideUp {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

@media (max-width: 900px) {
  .agenda-grid {
    grid-template-columns: 1fr;
  }
}

.food-picker-overlay{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.55);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  padding: 16px;
}

.food-picker-modal{
  width: min(1100px, 100%);
  max-height: min(85vh, 800px);
  background: #0f172a;
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.5);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.food-picker-header{
  display:flex;
  align-items:center;
  justify-content: space-between;
  padding: 16px;
  border-bottom: 1px solid rgba(255,255,255,.08);
}

.food-picker-title{ font-size: 14px; opacity: .9; }
.food-picker-subtitle{ font-size: 20px; font-weight: 700; margin-top: 2px; }

.food-picker-search{
  padding: 14px 16px;
  border-bottom: 1px solid rgba(255,255,255,.08);
}

.food-picker-hint{ margin-top: 6px; font-size: 12px; opacity: .75; }
.food-picker-error{ margin-top: 8px; color: #ffb4b4; font-size: 13px; }

.food-picker-body{
  display: grid;
  grid-template-columns: 1fr 320px;
  gap: 12px;
  padding: 12px;
  overflow: hidden;
}

.food-picker-list{
  overflow: auto;
  padding-right: 6px;
}

.food-picker-grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: 10px;
}

.food-card{
  text-align: left;
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 12px;
  padding: 12px;
  cursor: pointer;
}

.food-card.active{
  border-color: rgba(0,255,153,.55);
  box-shadow: 0 0 0 2px rgba(0,255,153,.18) inset;
}

.food-card-name{ font-weight: 700; margin-bottom: 6px; }
.food-card-meta{ display:flex; gap: 10px; font-size: 12px; opacity: .85; }
.food-card-portion{ margin-top: 8px; font-size: 12px; opacity: .75; }

.food-picker-right{
  overflow: auto;
}

.food-picker-panel{
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 12px;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.food-picker-panel-title{ font-weight: 800; font-size: 14px; }

.toggle-row{ display:flex; gap: 8px; }
.toggle{
  flex: 1;
  padding: 10px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
}
.toggle.active{
  border-color: rgba(0,255,153,.55);
  box-shadow: 0 0 0 2px rgba(0,255,153,.18) inset;
}

.food-picker-selected{ margin-top: 6px; }
.food-picker-small{ font-size: 12px; opacity: .8; margin-top: 4px; }
.food-picker-empty{ opacity: .75; padding: 8px 0; }

@media (max-width: 900px){
  .food-picker-body{ grid-template-columns: 1fr; }
  .food-picker-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}

@media (max-width: 560px){
  .food-picker-grid{ grid-template-columns: 1fr; }
}
