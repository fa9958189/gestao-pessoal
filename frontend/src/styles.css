/* ===========================
   Tema escuro – Gestão Pessoal
   =========================== */

:root{
  --bg:#0b0e13;
  --bg-2:#0f1115;
  --card:#141821;
  --card-2:#101522;
  --border:#232838;
  --muted:#aab2c0;
  --text:#e5e7eb;
  --accent:#4ade80;
  --accent-ink:#04130a;
  --danger:#ef4444;
  --ink-danger:#1b0a0a;
  --link:#89b4ff;
  --grid:#1f2434;
}

/* Resetzinho básico */
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu;
  background:var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

a{ color:var(--link); text-decoration:none; }
a:hover{ text-decoration:underline; }

/* Layout */
header{
  padding:16px 20px;
  background:var(--bg-2);
  border-bottom:1px solid var(--border);
  display:flex; align-items:center; justify-content:space-between;
  position:sticky; top:0; z-index:10;
}

.page-nav{
  max-width:1200px;
  margin:16px auto 0;
  padding:0 16px;
  display:flex;
  gap:8px;
}

.header-info{ display:flex; flex-direction:column; gap:6px; }

.user-session{ display:flex; align-items:center; gap:14px; }
.user-info{ display:flex; flex-direction:column; align-items:flex-end; }
.user-info strong{ font-size:14px; }
.badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  background:#1b2140;
  color:var(--muted);
  border-radius:999px;
  padding:4px 12px;
  font-size:11px;
  letter-spacing:.08em;
  text-transform:uppercase;
}

button.small{ padding:8px 12px; font-size:13px; }
button.full{ width:100%; }

h1{ margin:0; font-size:20px; }
h2.title, h3.title{ margin:0 0 10px; font-weight:600; }

.login-screen{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:32px 16px;
}

.login-card{
  width:100%;
  max-width:360px;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:18px;
  padding:28px;
  display:flex;
  flex-direction:column;
  gap:12px;
  box-shadow:0 0 0 1px rgba(0,0,0,.25), 0 24px 48px rgba(0,0,0,.35);
}

.login-brand{ display:flex; align-items:center; gap:12px; }
.login-brand h1{ font-size:24px; }
.logo-dot{
  width:14px;
  height:14px;
  border-radius:999px;
  background:var(--accent);
  box-shadow:0 0 12px rgba(74,222,128,.55);
}

.login-error{
  margin-top:4px;
  background:rgba(239,68,68,.12);
  border:1px solid rgba(239,68,68,.35);
  color:#ff9ea3;
  padding:10px 12px;
  border-radius:10px;
  font-size:13px;
}

.container{
  max-width:1200px;
  margin:20px auto;
  padding:0 16px;
  display:grid;
  grid-template-columns:1fr;
  grid-template-areas:
    "main"
    "sidebar"
    "admin";
  gap:16px;
}

/* mapeamento das áreas da grid */
.container > section{ grid-area:main; }
.container > .dashboard-card{ grid-area:main; }
.container > aside{ grid-area:sidebar; }
.container > .admin-card{ grid-area:admin; }

.container.single-card{
  width:100%;
  max-width:1100px;
  margin:0 auto;
  padding:0 16px;
  box-sizing:border-box;
  grid-template-columns:1fr;
  grid-template-areas:"main";
  justify-items:center;
}

.container.single-card > .admin-card{
  grid-area: main;
}

.container.single-card > *{
  width:100%;
}

@media (min-width:1100px){
  .container{
    grid-template-columns:1.2fr .8fr;
    grid-template-areas:
      "main sidebar"
      "admin sidebar";
  }
}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  padding:16px;
  box-shadow:0 0 0 1px rgba(0,0,0,.2), 0 12px 32px rgba(0,0,0,.25);
}

/* área de administração de usuários */
.admin-card .user-empty{ text-align:center; margin-top:12px; }
.admin-card table{ margin-top:4px; min-width:420px; }
.users-table-container {
  max-height: 220px;
  overflow-y: auto;
  padding-right: 4px;
}
.admin-user-form .admin-user-actions{
  display:flex;
  gap:8px;
  justify-content:flex-end;
  align-items:flex-end;
  grid-column:span 2;
  flex-wrap:wrap;
}
.admin-user-form .admin-user-actions button{
  flex:1 1 160px;
}
.user-list-wrapper{ overflow:auto; }
.user-empty.hidden{ display:none; }

.admin-card th.right,
.admin-card td.actions{
  text-align:right;
}

.admin-card tr.is-editing{
  background:rgba(137,180,255,.08);
}

.icon-button{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:36px;
  height:36px;
  padding:0;
  border-radius:10px;
  background:transparent;
  border:1px solid #38425b;
  color:var(--muted);
}

.icon-button:hover{
  color:var(--accent);
  border-color:var(--accent);
}

.icon-button svg{
  width:18px;
  height:18px;
  pointer-events:none;
}

.row{ display:flex; gap:10px; flex-wrap:wrap; }

.grid{ display:grid; gap:8px; }
.grid-2{ grid-template-columns:1fr 1fr; }

.sep{ height:1px; background:#222839; margin:10px 0; }

.muted{ color:var(--muted); font-size:12px; }

/* Inputs */
label{ display:block; font-size:12px; color:var(--muted); margin-bottom:6px; }
input, select, textarea{
  width:100%;
  background:#0f1320;
  color:var(--text);
  border:1px solid #2a3247;
  border-radius:10px;
  padding:10px 12px;
  outline:none;
  transition:border-color .15s ease, box-shadow .15s ease;
}
input:focus, select:focus, textarea:focus{
  border-color:#4e5c86;
  box-shadow:0 0 0 3px rgba(78,92,134,.25);
}
textarea{ min-height:80px; resize:vertical; }

/* Botões */
button{
  background:#2a3247; color:var(--text);
  border:1px solid #38425b;
  padding:10px 14px; border-radius:10px; cursor:pointer;
  transition:transform .06s ease, filter .15s ease, background .15s ease;
}
button:hover{ filter:brightness(1.05); }
button:active{ transform:translateY(1px); }

button.primary{ background:var(--accent); color:var(--accent-ink); border:none; }
button.danger{ background:var(--danger); color:#fff; border:none; }
button.ghost{ background:transparent; border:1px solid #38425b; }

/* Tabs */
.tabs{ display:flex; gap:8px; }
.tab{
  padding:8px 12px; border-radius:10px;
  border:1px solid #38425b; cursor:pointer;
  background:#111627; color:var(--text);
}
.tab.active{ background:#1b2140; border-color:#4e5c86; }

/* Tabelas */
table{ width:100%; border-collapse:collapse; }
th, td{ text-align:left; padding:10px; border-bottom:1px solid #242b3d; }
th{ color:var(--muted); font-size:12px; font-weight:600; }
.right{ text-align:right; }
.actions{ display:flex; gap:8px; justify-content:flex-end; }

/* Chips */
.pill{ font-size:12px; padding:4px 8px; border-radius:999px; }
.income{ background:rgba(74,222,128,.15); color:#7bf2a4; }
.expense{ background:rgba(239,68,68,.15); color:#ff9ea3; }

/* KPIs */
.summary{ display:flex; gap:12px; flex-wrap:wrap; }
.kpi{
  flex:1 1 180px;
  background:var(--card-2);
  border:1px solid #20273b;
  padding:12px; border-radius:12px;
}
.kpi small{ color:var(--muted); display:block; }
.kpi strong{ font-size:22px; display:block; margin-top:4px; }

/* Gráficos */
canvas{ background:transparent; }

/* Utilitários */
.hidden{ display:none!important; }

/* ===========================
   Responsividade
   =========================== */
@media (max-width:768px){
  header{
    flex-wrap:wrap;
    gap:12px;
    align-items:flex-start;
  }

  /* no mobile o nome/descrição do usuário alinham à esquerda */
  .user-info{ align-items:flex-start; }

  .tabs{
    flex-wrap:wrap;
  }
  .card{
    padding:14px;
  }

  /* Aplica a todos os filhos da row e força 100% no mobile */
  .row > *{
    flex:1 1 100% !important;
  }

  .grid-2{
    grid-template-columns:1fr;
  }

  .container.single-card{
    padding:0 12px;
  }

  input, select, textarea, button{
    font-size:15px;
  }

  /* Ajuste específico dos relatórios no mobile */
  #tab-reports .row{
    flex-direction:column;
  }
  #tab-reports .row > .card{
    width:100%;
  }

  /* Ajuste da área de ações do admin no mobile */
  .admin-user-form .admin-user-actions{
    grid-column:span 1;
    flex-direction:column;
  }
  .admin-user-form .admin-user-actions button{
    width:100%;
  }

  /* impede grid/flex de estourar largura por causa de conteúdo grande */
  .container > section,
  .container > .dashboard-card,
  .container > aside,
  .container > .admin-card,
  .card{
    min-width: 0;
  }

  /* rolagem horizontal só na área da tabela (não na página toda) */
  .transactions-scroll,
  .agenda-scroll,
  .events-table-container,
  .users-table-container,
  .usuarios-scroll{
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* mantém a tabela “legível” mas sem estourar a tela */
  .transactions-scroll table,
  .agenda-scroll table,
  .events-table-container table,
  .users-table-container table,
  .usuarios-scroll table{
    min-width: 650px;
  }
}


@media (max-width:520px){
  body{
    font-size:15px;
  }
  header{
    padding:14px 16px;
  }
  .container{
    padding:0 12px;
  }
  .tabs{
    gap:6px;
  }
  .tab{
    padding:6px 10px;
    font-size:13px;
  }
  .summary{
    gap:10px;
  }
  .kpi{
    flex:1 1 100%;
  }
  .kpi strong{
    font-size:20px;
  }
  th, td{
    padding:8px;
    font-size:13px;
  }
}

/* ===== Responsivo: Cadastro de Usuários (mobile) ===== */

/* A tabela precisa rolar DENTRO do container no mobile */
.users-table-container{
  overflow-x: auto;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* Garante que o card single não fique “apertado” ou empurrado */
.container.single-card{
  width: 100%;
  margin-left: auto;
  margin-right: auto;
}

/* Ajustes gerais mobile */
@media (max-width: 768px){
  .container.single-card{
    padding: 0 12px;
  }

  .admin-card{
    width: 100%;
  }
}

/* Mobile menor ainda (celular pequeno) */
@media (max-width: 520px){
  /* mantém tabela rolável sem quebrar o layout */
  .admin-card table{
    min-width: 520px; /* antes estava grande demais em alguns lugares */
  }

  /* evita qualquer “vazamento” horizontal do card */
  .admin-card{
    overflow: hidden;
  }
}

/* Componentes React adicionais */
.badge-income{ background:rgba(74,222,128,.15); color:#7bf2a4; }
.badge-expense{ background:rgba(239,68,68,.15); color:#ff9ea3; }
.badge-active{ background:rgba(74,222,128,.15); color:#7bf2a4; }
.badge-inactive{ background:rgba(148,163,184,.2); color:#cbd5e1; }
.table-actions{ display:inline-flex; gap:6px; justify-content:flex-end; }
.toast{
  position:fixed;
  top:16px;
  right:16px;
  background:var(--card-2);
  border:1px solid var(--border);
  border-left:4px solid var(--accent);
  padding:12px 16px;
  border-radius:14px;
  box-shadow:0 16px 32px rgba(0,0,0,.35);
  display:flex;
  gap:12px;
  align-items:center;
  z-index:50;
}
.toast-warning{ border-left-color:#fbbf24; }
.toast-danger{ border-left-color:var(--danger); }
.toast-success{ border-left-color:var(--accent); }
.toast button{ margin-left:auto; }

.muscle-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 16px;
  margin-top: 12px;
}

.muscle-card {
  background: var(--card-2, #101522);
  border: 1px solid var(--border, #232838);
  border-radius: 999px;
  padding: 14px 10px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
}

.muscle-image-wrapper {
  width: 88px;
  height: 88px;
  border-radius: 999px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

.muscle-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.muscle-label {
  font-size: 13px;
  color: var(--muted, #aab2c0);
}

.muscle-card.active {
  border-color: var(--accent, #4ade80);
  box-shadow: 0 0 0 1px rgba(74, 222, 128, 0.35);
}

.muscle-card.active .muscle-label {
  color: var(--text, #e5e7eb);
}

.muscle-card:hover {
  transform: translateY(-1px);
}

.workout-card {
  margin-top: 16px;
  max-width: 1120px;
  width: 100%;
  margin-left: auto;
  margin-right: auto;

  /* novo: layout em grid */
  display: grid;
  grid-template-columns: 1fr; /* padrão: uma coluna (mobile / telas menores) */
  gap: 16px;
}

/* em telas grandes: Rotina de Treino + Semana de Treino lado a lado */
@media (min-width: 1100px) {
  .workout-card {
    grid-template-columns: 1.2fr 0.8fr; /* parecido com Transações x Agenda */
    align-items: flex-start;
  }
}

/* já existia – continua igual, só fica depois */
@media (max-width: 768px) {
  .workout-card .row {
    flex-wrap: wrap;
  }
}


/* esconde a agenda dentro da rotina de treino */
.workout-schedule {
  display: none;
}

/* Modal de visualização de treino */
.workout-view-modal .modal-body {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.workout-details-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 16px;
  padding: 16px 0 24px;
}

.workout-details-content .field {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 8px;
}

.workout-view-modal .field label {
  font-size: 0.85rem;
  font-weight: 500;
  color: var(--muted);
  text-align: center;
  width: 100%;
}

.chips-with-image {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
}

.chip-with-image {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 8px 14px;
  border-radius: 999px;
  background: #111827;
  border: 1px solid #1f2937;
}

.chip-with-image .chip-icon {
  width: 36px;
  height: 36px;
  border-radius: 999px;
  object-fit: cover;
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.workout-timer-section {
  margin-top: 8px;
}

/* ===========================
   Diário alimentar – Rotina de Treino
   =========================== */

.food-diary {
  margin-top: 4px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.food-diary-grid {
  display: grid;
  grid-template-columns: minmax(0, 1.5fr) minmax(0, 1.1fr);
  gap: 16px;
}

.food-diary-left {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.food-diary-right {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.food-diary-form .field textarea {
  resize: vertical;
}

.food-diary-summary-card {
  padding: 12px;
  border-radius: 12px;
  background: var(--card-2);
  border: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.food-diary-meta-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.food-diary-meta-row {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 13px;
}

.food-diary-bar {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    'Liberation Mono', 'Courier New', monospace;
  letter-spacing: 1px;
}

.food-diary-entries {
  margin-top: 8px;
  max-height: 230px;
  overflow-y: auto;
  padding-right: 4px;
}

.food-diary-entry {
  padding: 6px 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  font-size: 13px;
}

.food-diary-entry:last-child {
  border-bottom: none;
}

.food-diary-entry-header {
  display: flex;
  justify-content: space-between;
  gap: 8px;
}

.food-diary-entry-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  color: var(--muted);
  font-size: 12px;
}

@media (max-width: 900px) {
  .food-diary-grid {
    grid-template-columns: 1fr;
  }
}

/* ===========================
   Food Picker – Diário alimentar
   =========================== */

.food-picker-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 20;
  padding: 16px;
}

.food-picker-card {
  width: min(960px, 100%);
  max-height: 80vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.food-picker-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.food-picker-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 10px;
  overflow-y: auto;
  padding-right: 4px;
}

.food-picker-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--border);
  border-radius: 12px;
  text-align: left;
  color: inherit;
  cursor: pointer;
  transition: all 0.15s ease;
}

.food-picker-item:hover {
  border-color: rgba(255, 255, 255, 0.2);
  background: rgba(255, 255, 255, 0.05);
}

.food-picker-icon {
  width: 42px;
  height: 42px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.08);
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.food-picker-info {
  display: flex;
  flex-direction: column;
  gap: 4px;
  flex: 1;
}

.food-picker-name {
  font-weight: 600;
}

.food-picker-meta {
  font-size: 12px;
  color: var(--muted);
}

.transactions-scroll {
  max-height: 350px;
  overflow-y: auto;
  padding-right: 8px;
}

.transactions-scroll::-webkit-scrollbar {
  width: 8px;
}

.transactions-scroll::-webkit-scrollbar-thumb {
  background-color: #555;
  border-radius: 10px;
}

.transactions-scroll::-webkit-scrollbar-track {
  background: #2a2a2a;
}

.events-table-container {
  max-height: 260px; /* ou o valor que já usamos em Transações */
  overflow-y: auto;
  padding-right: 4px; /* espaço pra barra não colar nos botões */
}

.agenda-scroll {
  max-height: 350px;
  overflow-y: auto;
  padding-right: 8px;
}

.agenda-scroll::-webkit-scrollbar {
  width: 8px;
}

.agenda-scroll::-webkit-scrollbar-thumb {
  background-color: #555;
  border-radius: 10px;
}

.agenda-scroll::-webkit-scrollbar-track {
  background: #2a2a2a;
}

/* Scroll para a área de histórico de peso no Diário Alimentar */
.weight-history-scroll {
  max-height: 180px; /* ajuste se quiser mais ou menos */
  overflow-y: auto;
  padding-right: 8px;
}

.weight-history-scroll::-webkit-scrollbar {
  width: 8px;
}

.weight-history-scroll::-webkit-scrollbar-thumb {
  background-color: #555;
  border-radius: 10px;
}

.weight-history-scroll::-webkit-scrollbar-track {
  background: #2a2a2a;
}

.usuarios-scroll {
  max-height: 250px;   /* altura da área visível */
  overflow-y: auto;    /* ativa a barra de rolagem */
}

/* Estiliza a barra de rolagem para combinar com o design */
.usuarios-scroll::-webkit-scrollbar {
  width: 6px;
}

.usuarios-scroll::-webkit-scrollbar-thumb {
  background: #ffffff33;
  border-radius: 10px;
}

.usuarios-scroll::-webkit-scrollbar-track {
  background: transparent;
}

/* Gráficos e analytics */
.chart-card{
  background:var(--card-2);
  border:1px solid var(--border);
  border-radius:14px;
  padding:12px 14px;
  box-shadow:0 10px 30px rgba(0,0,0,.28);
}
.chart-title{
  font-weight:600;
  font-size:14px;
  margin-bottom:10px;
}

.progress-ring{ display:flex; justify-content:center; }
.progress-ring-chart{ position:relative; width:180px; height:180px; }
.progress-ring-center{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  pointer-events:none;
}
.progress-ring-value{ font-size:28px; font-weight:700; }
.progress-ring-helper{ font-size:12px; color:var(--muted); }

.goal-bar{ display:flex; flex-direction:column; gap:10px; }
.goal-bar-track{
  width:100%;
  height:14px;
  border-radius:999px;
  background:rgba(255,255,255,0.08);
  overflow:hidden;
  border:1px solid rgba(255,255,255,0.08);
}
.goal-bar-fill{
  height:100%;
  background:linear-gradient(90deg, #50be78, #facc15);
  box-shadow:0 6px 18px rgba(80, 190, 120, 0.35);
}
.goal-bar-footer{ display:flex; justify-content:space-between; align-items:center; font-size:13px; }
.goal-bar-highlight{ font-weight:700; color:#7df59c; }

.chart-with-legend{ display:grid; grid-template-columns:1.2fr .8fr; gap:12px; align-items:center; }
.chart-legend{ display:flex; flex-direction:column; gap:8px; }
.chart-legend-item{ display:flex; align-items:center; gap:10px; padding:8px 10px; background:rgba(255,255,255,0.04); border:1px solid rgba(255,255,255,0.06); border-radius:12px; }
.chart-legend-dot{ width:12px; height:12px; border-radius:50%; display:inline-block; box-shadow:0 0 0 1px rgba(0,0,0,0.25); }
.chart-legend-label{ font-weight:600; font-size:13px; }

.heatmap-wrapper{ width:100%; overflow-x:auto; }
.heatmap-grid{ display:grid; grid-template-columns:80px repeat(7, 1fr); gap:8px; align-items:center; }
.heatmap-header{ text-align:center; font-size:12px; color:var(--muted); }
.heatmap-row-label{ font-size:12px; color:var(--muted); text-align:right; padding-right:6px; }
.heatmap-cell{ width:100%; padding-top:100%; border-radius:6px; background:rgba(255,255,255,0.05); box-shadow:inset 0 0 0 1px rgba(0,0,0,0.2); }

.mini-stats-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(180px, 1fr)); gap:10px; }
.mini-stat-card{ background:rgba(255,255,255,0.04); border:1px solid rgba(255,255,255,0.06); border-radius:12px; padding:10px 12px; display:flex; flex-direction:column; gap:4px; }
.mini-stat-label{ font-size:12px; color:var(--muted); }
.mini-stat-value{ font-weight:700; font-size:16px; }
.mini-stat-helper{ font-size:12px; color:var(--muted); }

@media (max-width: 900px){
  .chart-with-legend{ grid-template-columns:1fr; }
}

.workout-routines-scroll {
  max-height: 230px;
  overflow-y: auto;
  padding-right: 4px;
}

.workout-history-scroll {
  max-height: 260px;
  overflow-y: auto;
  padding-right: 4px;
}
